<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grant Proposal AI - Professional Grant Writing Assistant</title>
    <meta name="description" content="Generate winning grant proposals with AI assistance. Professional grant writing tool for researchers and institutions.">
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.min.css">
    <style>
        .tool-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .tool-header {
            text-align: center;
            margin-bottom: 3rem;
            padding-top: 100px;
        }
        .tool-form {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }
        .form-group {
            margin-bottom: 1.5rem;
        }
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #333;
        }
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #6366f1;
        }
        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }
        .generate-btn {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
            width: 100%;
        }
        .generate-btn:hover {
            transform: translateY(-2px);
        }
        .output-section {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: none;
        }
        .output-content {
            line-height: 1.8;
            color: #333;
        }
        .loading {
            text-align: center;
            padding: 2rem;
        }
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #6366f1;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: #6366f1;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 10px;
            text-decoration: none;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-btn">
        <i class="fas fa-arrow-left"></i> è¿”å›é¦–é¡µ
    </a>

    <div class="tool-container">
        <div class="tool-header">
            <h1><i class="fas fa-money-bill-wave"></i> Grant Proposal AI</h1>
            <p>Generate professional grant proposals with AI assistance</p>
        </div>

        <div class="tool-form">
            <form id="grantForm">
                <div class="form-group">
                    <label for="projectTitle">Project Title</label>
                    <input type="text" id="projectTitle" name="projectTitle" placeholder="Enter your project title" required>
                </div>

                <div class="form-group">
                    <label for="fundingAgency">Funding Agency</label>
                    <select id="fundingAgency" name="fundingAgency" required>
                        <option value="">Select funding agency</option>
                        <option value="nsf">National Science Foundation (NSF)</option>
                        <option value="nih">National Institutes of Health (NIH)</option>
                        <option value="doe">Department of Energy (DOE)</option>
                        <option value="nasa">NASA</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="researchArea">Research Area</label>
                    <input type="text" id="researchArea" name="researchArea" placeholder="e.g., Artificial Intelligence, Climate Science" required>
                </div>

                <div class="form-group">
                    <label for="projectDescription">Project Description</label>
                    <textarea id="projectDescription" name="projectDescription" placeholder="Provide a brief description of your research project, objectives, and methodology" required></textarea>
                </div>

                <div class="form-group">
                    <label for="budgetRange">Budget Range</label>
                    <select id="budgetRange" name="budgetRange" required>
                        <option value="">Select budget range</option>
                        <option value="small">$1,000 - $10,000</option>
                        <option value="medium">$10,000 - $50,000</option>
                        <option value="large">$50,000 - $200,000</option>
                        <option value="xlarge">$200,000+</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="duration">Project Duration</label>
                    <select id="duration" name="duration" required>
                        <option value="">Select duration</option>
                        <option value="6months">6 months</option>
                        <option value="1year">1 year</option>
                        <option value="2years">2 years</option>
                        <option value="3years">3 years</option>
                        <option value="5years">5 years</option>
                    </select>
                </div>

                <button type="submit" class="generate-btn">
                    <i class="fas fa-magic"></i> Generate Grant Proposal
                </button>
            </form>
        </div>

        <div id="outputSection" class="output-section">
            <h3><i class="fas fa-file-alt"></i> Generated Grant Proposal</h3>
            <div id="outputContent" class="output-content"></div>
            <button onclick="downloadProposal()" class="generate-btn" style="margin-top: 1rem;">
                <i class="fas fa-download"></i> Download Proposal
            </button>
        </div>
    </div>

    <script>
        document.getElementById('grantForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Get form data
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            
            // Show loading
            const outputSection = document.getElementById('outputSection');
            const outputContent = document.getElementById('outputContent');
            
            outputSection.style.display = 'block';
            outputContent.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <p>AI is generating your grant proposal...</p>
                </div>
            `;
            
            try {
                // Generate AI proposal
                const proposal = await generateAIProposal(data);
                outputContent.innerHTML = proposal;
            } catch (error) {
                console.error('AI generation failed:', error);
                
                // æ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯
                showNotification(`AIç”Ÿæˆå¤±è´¥: ${error.message}`, 'error');
                
                // ä½¿ç”¨å¤‡ç”¨ç”Ÿæˆå™¨
                console.log('Using fallback generator...');
                const fallbackProposal = generateProposal(data);
                outputContent.innerHTML = `
                    <div class="notice" style="background: #e8f5e8; border: 1px solid #4caf50; padding: 20px; margin-bottom: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h4 style="color: #2e7d32; margin: 0 0 10px 0; display: flex; align-items: center;">
                            <span style="margin-right: 8px;">ğŸ¤–</span>
                            AIæœåŠ¡æš‚æ—¶ä¸å¯ç”¨
                        </h4>
                        <p style="margin: 8px 0; color: #2e7d32;">æˆ‘ä»¬å·²ä¸ºæ‚¨ç”Ÿæˆäº†ä¸€ä¸ªä¸“ä¸šçš„ææ¡ˆæ¨¡æ¿ï¼ŒåŒ…å«å®Œæ•´çš„ææ¡ˆç»“æ„å’Œå†…å®¹ã€‚</p>
                        <p style="margin: 8px 0; color: #2e7d32;"><strong>æç¤ºï¼š</strong>è¯·å‘ä¸‹æ»šåŠ¨æŸ¥çœ‹å®Œæ•´çš„ææ¡ˆå†…å®¹ï¼Œæ‚¨å¯ä»¥åŸºäºæ­¤æ¨¡æ¿è¿›è¡Œä¿®æ”¹å’Œå®Œå–„ã€‚</p>
                        <details style="margin-top: 10px;">
                            <summary style="color: #666; cursor: pointer; font-size: 0.9em;">æŸ¥çœ‹æŠ€æœ¯è¯¦æƒ…</summary>
                            <p style="margin: 8px 0; color: #666; font-size: 0.9em;">${error.message}</p>
                        </details>
                    </div>
                    ${formatProposalContent(fallbackProposal, data)}
                `;
                
                showNotification('å·²ä½¿ç”¨å¤‡ç”¨ç”Ÿæˆå™¨åˆ›å»ºææ¡ˆæ¨¡æ¿', 'info');
            }
        });

        // é€šçŸ¥ç³»ç»Ÿ
        function showNotification(message, type = 'info') {
            // ç§»é™¤ç°æœ‰é€šçŸ¥
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }

            // åˆ›å»ºæ–°é€šçŸ¥
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <span>${message}</span>
                <button onclick="this.parentElement.remove()" style="background: none; border: none; color: inherit; font-size: 18px; cursor: pointer; margin-left: 10px;">&times;</button>
            `;

            // æ·»åŠ æ ·å¼
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                border-radius: 5px;
                color: white;
                font-weight: bold;
                z-index: 1000;
                max-width: 400px;
                box-shadow: 0 4px 6px rgba(0,0,0,0.1);
                display: flex;
                align-items: center;
                justify-content: space-between;
            `;

            // æ ¹æ®ç±»å‹è®¾ç½®é¢œè‰²
            if (type === 'error') {
                notification.style.backgroundColor = '#e74c3c';
            } else if (type === 'success') {
                notification.style.backgroundColor = '#27ae60';
            } else {
                notification.style.backgroundColor = '#3498db';
            }

            document.body.appendChild(notification);

            // 5ç§’åè‡ªåŠ¨ç§»é™¤
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }
        const API_CONFIGS = [
            {
                name: 'Free API Service 1',
                baseURL: 'https://api.deepseek.com/v1/chat/completions',
                apiKey: 'free-api-key',
                model: 'deepseek-chat'
            },
            {
                name: 'Free API Service 2', 
                baseURL: 'https://api.siliconflow.cn/v1/chat/completions',
                apiKey: 'free-api-key',
                model: 'Qwen/Qwen2.5-7B-Instruct'
            },
            {
                name: 'WenWen AI',
                baseURL: 'https://breakout.wenwen-ai.com/v1/chat/completions',
                apiKey: 'sk-6ogS4COJPVLfLclruLQ6h59IxyvcN61nGuvgpr71VNL3ARsN',
                model: 'gpt-3.5-turbo'
            },
            {
                name: 'Local Fallback',
                baseURL: 'local',
                apiKey: 'local',
                model: 'local'
            }
        ];

        // å½“å‰ä½¿ç”¨çš„APIé…ç½®ç´¢å¼•
        let currentAPIIndex = 0;

        async function generateAIProposal(data) {
            const prompt = `Generate a comprehensive grant proposal for the following project:

Project Title: ${data.projectTitle}
Funding Agency: ${data.fundingAgency}
Research Area: ${data.researchArea}
Project Description: ${data.projectDescription}
Budget Range: ${getBudgetText(data.budgetRange)}
Duration: ${data.duration}

Please create a detailed, professional grant proposal that includes:
1. Executive Summary
2. Project Description and Significance
3. Literature Review and Background
4. Research Objectives and Hypotheses
5. Methodology and Approach
6. Timeline and Milestones
7. Budget Justification
8. Expected Outcomes and Impact
9. Evaluation and Dissemination Plan
10. Conclusion

Make it compelling, well-structured, and tailored to the specific funding agency requirements. Use professional academic language and ensure all sections are comprehensive and detailed.`;

            // å°è¯•æ‰€æœ‰å¯ç”¨çš„APIé…ç½®
            for (let i = 0; i < API_CONFIGS.length; i++) {
                const config = API_CONFIGS[i];
                
                // å¦‚æœæ˜¯æœ¬åœ°å¤‡ç”¨ç”Ÿæˆå™¨ï¼Œç›´æ¥ä½¿ç”¨æœ¬åœ°ç”Ÿæˆ
                if (config.baseURL === 'local') {
                    console.log('Using local fallback generator...');
                    showNotification('ä½¿ç”¨æœ¬åœ°ç”Ÿæˆå™¨åˆ›å»ºææ¡ˆæ¨¡æ¿', 'info');
                    return formatProposalContent(generateLocalProposal(data), data);
                }
                
                // è·³è¿‡æ²¡æœ‰æœ‰æ•ˆAPIå¯†é’¥çš„é…ç½®
                if (config.apiKey.includes('your-') || config.apiKey.includes('here') || config.apiKey === 'free-api-key') {
                    console.log(`Skipping ${config.name}: No valid API key or free service unavailable`);
                    continue;
                }
                
                try {
                    console.log(`Trying ${config.name}...`);
                    
                    const response = await fetch(config.baseURL, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${config.apiKey}`,
                            'Accept': 'application/json'
                        },
                        body: JSON.stringify({
                            model: config.model,
                            messages: [
                                {
                                    role: 'system',
                                    content: 'You are a professional grant writing expert with extensive experience in securing research funding. Generate comprehensive, compelling grant proposals that meet funding agency requirements.'
                                },
                                {
                                    role: 'user',
                                    content: prompt
                                }
                            ],
                            max_tokens: 4000,
                            temperature: 0.7
                        }),
                        signal: AbortSignal.timeout(30000) // 30ç§’è¶…æ—¶
                    });

                    console.log(`${config.name} Response Status:`, response.status);

                    if (!response.ok) {
                        const errorText = await response.text();
                        console.error(`${config.name} Error Response:`, errorText);
                        
                        // å¦‚æœæ˜¯503é”™è¯¯ï¼Œç»§ç»­å°è¯•ä¸‹ä¸€ä¸ªAPI
                        if (response.status === 503) {
                            console.log(`${config.name} is unavailable (503), trying next API...`);
                            continue;
                        }
                        
                        throw new Error(`${config.name} request failed: ${response.status} ${response.statusText}`);
                    }

                    const result = await response.json();
                    console.log(`${config.name} Success:`, result);
                    
                    if (result.choices && result.choices[0] && result.choices[0].message) {
                        showNotification(`æˆåŠŸä½¿ç”¨ ${config.name} ç”Ÿæˆææ¡ˆ`, 'success');
                        return formatProposalContent(result.choices[0].message.content, data);
                    } else {
                        console.error(`${config.name} Invalid response structure:`, result);
                        continue;
                    }
                } catch (error) {
                    console.error(`${config.name} Error:`, error);
                    
                    // å¦‚æœæ˜¯ç½‘ç»œé”™è¯¯æˆ–è¶…æ—¶ï¼Œç»§ç»­å°è¯•ä¸‹ä¸€ä¸ªAPI
                    if (error.name === 'AbortError' || error.message.includes('fetch')) {
                        console.log(`${config.name} network error, trying next API...`);
                        continue;
                    }
                }
            }
            
            // æ‰€æœ‰APIéƒ½å¤±è´¥äº†
            throw new Error('æ‰€æœ‰AIæœåŠ¡éƒ½æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åå†è¯•æˆ–ä½¿ç”¨æœ¬åœ°ç”Ÿæˆå™¨');
        }

        function formatProposalContent(content, data) {
            // å¦‚æœå†…å®¹åŒ…å«markdownæ ¼å¼ï¼Œè½¬æ¢ä¸ºHTML
            if (content.includes('#') || content.includes('**') || content.includes('- ')) {
                // ç®€å•çš„markdownåˆ°HTMLè½¬æ¢
                let htmlContent = content
                    .replace(/^# (.*$)/gm, '<h1>$1</h1>')
                    .replace(/^## (.*$)/gm, '<h2>$1</h2>')
                    .replace(/^### (.*$)/gm, '<h3>$1</h3>')
                    .replace(/^#### (.*$)/gm, '<h4>$1</h4>')
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                    .replace(/^\- (.*$)/gm, '<li>$1</li>')
                    .replace(/^(\d+)\. (.*$)/gm, '<li>$1. $2</li>')
                    .replace(/\n\n/g, '</p><p>')
                    .replace(/\n/g, '<br>');
                
                // åŒ…è£…åˆ—è¡¨é¡¹
                htmlContent = htmlContent.replace(/(<li>.*?<\/li>)/gs, '<ul>$1</ul>');
                htmlContent = htmlContent.replace(/<\/ul>\s*<ul>/g, '');
                
                // åŒ…è£…æ®µè½
                if (!htmlContent.startsWith('<h1>') && !htmlContent.startsWith('<p>')) {
                    htmlContent = '<p>' + htmlContent + '</p>';
                }
                
                return `
                    <div class="proposal-header">
                        <div class="project-info">
                            <p><strong>Funding Agency:</strong> ${data.fundingAgency}</p>
                            <p><strong>Research Area:</strong> ${data.researchArea}</p>
                            <p><strong>Requested Amount:</strong> ${getBudgetText(data.budgetRange)}</p>
                            <p><strong>Duration:</strong> ${data.duration}</p>
                        </div>
                    </div>
                    <div class="proposal-content">
                        ${htmlContent}
                    </div>
                    <div class="proposal-footer">
                        <p><em>This proposal was generated using AI assistance. Please review and customize according to your specific requirements and funding agency guidelines.</em></p>
                    </div>
                `;
            } else {
                // åŸæœ‰çš„ç®€å•æ ¼å¼å¤„ç†
                return `
                    <div class="proposal-header">
                        <h3>${data.projectTitle}</h3>
                        <p><strong>Funding Agency:</strong> ${data.fundingAgency}</p>
                        <p><strong>Research Area:</strong> ${data.researchArea}</p>
                        <p><strong>Requested Amount:</strong> ${getBudgetText(data.budgetRange)}</p>
                        <p><strong>Duration:</strong> ${data.duration}</p>
                    </div>
                    <div class="proposal-content">
                        ${content.replace(/\n/g, '<br>')}
                    </div>
                    <div class="proposal-footer">
                        <p><em>This proposal was generated using AI assistance. Please review and customize according to your specific requirements and funding agency guidelines.</em></p>
                    </div>
                `;
            }
        }

        // æ”¹è¿›çš„æœ¬åœ°ç”Ÿæˆå™¨ï¼Œç”Ÿæˆæ›´ä¸“ä¸šçš„å†…å®¹
        function generateLocalProposal(data) {
            const researchArea = data.researchArea || 'interdisciplinary research';
            const projectTitle = data.projectTitle || 'Research Project';
            const projectDescription = data.projectDescription || 'This project aims to advance knowledge in the field through innovative research methods and comprehensive analysis.';
            const fundingAgency = data.fundingAgency || 'Research Foundation';
            const duration = data.duration || '12 months';
            
            return `
# ${projectTitle}

## Executive Summary

This comprehensive research proposal outlines a groundbreaking study in ${researchArea} that will significantly advance our understanding of key challenges in the field. The project, titled "${projectTitle}", represents a critical investigation that addresses current knowledge gaps and provides innovative solutions to pressing research questions.

**Project Overview:**
${projectDescription}

**Research Significance:**
This study will contribute to the academic community by providing new theoretical frameworks, empirical evidence, and practical applications that can inform future research and policy decisions. The interdisciplinary approach ensures broad impact across multiple domains.

**Expected Outcomes:**
- Publication of 3-5 high-impact research papers
- Development of new methodological approaches
- Training of graduate students and early-career researchers
- Establishment of collaborative networks with international partners

## Project Description and Significance

### Research Background

The field of ${researchArea} has experienced significant developments in recent years, yet several critical questions remain unanswered. Current research has primarily focused on traditional approaches, leaving substantial gaps in our understanding of emerging challenges and opportunities.

### Research Problem

The central problem this project addresses is the need for comprehensive analysis and innovative solutions in ${researchArea}. Existing studies have limitations in scope, methodology, or theoretical framework, creating an urgent need for more robust research approaches.

### Innovation and Significance

This project introduces several innovative elements:

1. **Methodological Innovation**: Implementation of cutting-edge research methods that combine quantitative and qualitative approaches
2. **Theoretical Contribution**: Development of new theoretical frameworks that bridge existing knowledge gaps
3. **Practical Applications**: Direct relevance to real-world challenges and policy implications
4. **Interdisciplinary Approach**: Integration of multiple disciplines to provide comprehensive insights

## Literature Review and Theoretical Framework

### Current State of Knowledge

Recent scholarship in ${researchArea} has established important foundations for understanding key phenomena. However, several areas require further investigation:

- **Theoretical Gaps**: Limited integration of emerging theories with established frameworks
- **Methodological Limitations**: Need for more sophisticated analytical approaches
- **Empirical Evidence**: Insufficient data to support comprehensive conclusions
- **Practical Applications**: Limited translation of research findings to practice

### Theoretical Framework

This study employs a comprehensive theoretical framework that integrates:

1. **Primary Theoretical Foundation**: Core theories relevant to ${researchArea}
2. **Supporting Frameworks**: Complementary theoretical perspectives
3. **Innovative Synthesis**: Novel integration of existing theories
4. **Practical Applications**: Framework for real-world implementation

## Research Objectives and Hypotheses

### Primary Objectives

1. **Objective 1**: Conduct comprehensive analysis of current challenges in ${researchArea}
2. **Objective 2**: Develop innovative methodological approaches for data collection and analysis
3. **Objective 3**: Create new theoretical frameworks that advance understanding
4. **Objective 4**: Validate findings through rigorous empirical testing
5. **Objective 5**: Disseminate results to academic and practitioner communities

### Research Questions

1. What are the primary factors influencing outcomes in ${researchArea}?
2. How can innovative methodologies improve research quality and impact?
3. What theoretical frameworks best explain observed phenomena?
4. How can research findings be effectively translated to practice?

### Hypotheses

- **H1**: Implementation of innovative methodologies will yield more comprehensive insights
- **H2**: New theoretical frameworks will better explain complex relationships
- **H3**: Research findings will have significant practical applications
- **H4**: Interdisciplinary approaches will enhance research impact

## Methodology and Research Design

### Research Design

This study employs a mixed-methods research design that combines:

1. **Quantitative Analysis**: Statistical analysis of large datasets
2. **Qualitative Investigation**: In-depth interviews and case studies
3. **Comparative Analysis**: Cross-sectional and longitudinal comparisons
4. **Experimental Components**: Controlled studies where appropriate

### Data Collection Methods

**Primary Data Collection:**
- Structured surveys and questionnaires
- Semi-structured interviews with key stakeholders
- Focus groups and workshops
- Observational studies

**Secondary Data Sources:**
- Academic databases and repositories
- Government and institutional reports
- Industry publications and statistics
- International comparative data

### Analytical Framework

**Quantitative Analysis:**
- Descriptive and inferential statistics
- Multivariate regression analysis
- Structural equation modeling
- Time series analysis

**Qualitative Analysis:**
- Thematic analysis of interview data
- Content analysis of documents
- Grounded theory approach
- Narrative analysis

## Timeline and Milestones

### Phase 1: Project Initiation (Months 1-3)
- Literature review completion
- Methodology refinement
- Team assembly and training
- Ethical approval and permits

**Key Milestones:**
- âœ… Comprehensive literature review
- âœ… Methodology protocol finalization
- âœ… Research team establishment
- âœ… Ethical clearance obtained

### Phase 2: Data Collection (Months 4-8)
- Primary data collection activities
- Secondary data compilation
- Preliminary analysis
- Mid-term progress review

**Key Milestones:**
- ğŸ“Š 50% of data collection completed
- ğŸ“‹ Preliminary findings report
- ğŸ”„ Methodology adjustments if needed
- ğŸ“ˆ Mid-term progress presentation

### Phase 3: Analysis and Synthesis (Months 9-11)
- Comprehensive data analysis
- Results interpretation
- Theoretical framework development
- Draft manuscript preparation

**Key Milestones:**
- ğŸ“Š Complete data analysis
- ğŸ“ First draft of findings
- ğŸ¯ Theoretical framework finalized
- ğŸ“„ Manuscript drafts completed

### Phase 4: Dissemination (Month 12)
- Final report preparation
- Academic publication submission
- Conference presentations
- Stakeholder engagement

**Key Milestones:**
- ğŸ“‹ Final research report
- ğŸ“š Journal article submissions
- ğŸ¤ Conference presentations
- ğŸ¤ Stakeholder meetings

## Budget Justification

### Total Project Budget: ${getBudgetText(data.budgetRange)}

**Personnel (45%)**
- Principal Investigator: 20% effort
- Research Associates: 2 FTE
- Graduate Research Assistants: 3 positions
- Administrative Support: 0.5 FTE

**Equipment and Technology (20%)**
- Data collection software licenses
- Statistical analysis software
- Computer hardware and peripherals
- Specialized research equipment

**Travel and Dissemination (15%)**
- Conference attendance and presentations
- Data collection travel
- Stakeholder meetings
- International collaboration visits

**Materials and Supplies (10%)**
- Research materials and supplies
- Printing and publication costs
- Communication and utilities
- Office supplies and materials

**Indirect Costs (10%)**
- Institutional overhead
- Administrative support
- Facility costs
- Insurance and legal fees

## Expected Outcomes and Impact

### Academic Impact

**Publications:**
- 3-5 peer-reviewed journal articles in top-tier publications
- 1 edited volume or monograph
- Multiple conference presentations
- Policy briefs and white papers

**Theoretical Contributions:**
- New theoretical frameworks for ${researchArea}
- Methodological innovations
- Empirical evidence for theory testing
- Cross-disciplinary insights

### Practical Impact

**Policy Implications:**
- Evidence-based policy recommendations
- Best practice guidelines
- Implementation frameworks
- Evaluation metrics

**Industry Applications:**
- Practical tools and resources
- Training materials and programs
- Consultation and advisory services
- Technology transfer opportunities

### Educational Impact

**Capacity Building:**
- Training of graduate students
- Postdoctoral researcher development
- Early-career researcher mentoring
- International collaboration networks

**Curriculum Development:**
- New course materials
- Case studies and examples
- Teaching resources
- Online learning modules

## Risk Management and Contingency Plans

### Identified Risks

1. **Data Collection Challenges**
   - Mitigation: Multiple data sources and collection methods
   - Contingency: Alternative sampling strategies

2. **Timeline Delays**
   - Mitigation: Built-in buffer time and flexible scheduling
   - Contingency: Priority-based task resequencing

3. **Resource Constraints**
   - Mitigation: Careful budget monitoring and cost control
   - Contingency: Alternative funding sources and partnerships

4. **Technical Difficulties**
   - Mitigation: Expert consultation and technical support
   - Contingency: Alternative analytical approaches

## Quality Assurance and Evaluation

### Quality Control Measures

- Regular progress monitoring and evaluation
- Peer review of methodologies and findings
- External advisory board oversight
- Compliance with ethical standards

### Evaluation Criteria

- Achievement of research objectives
- Quality of academic outputs
- Impact on field and practice
- Stakeholder satisfaction

## Conclusion

This research project represents a significant opportunity to advance knowledge in ${researchArea} through innovative research approaches and comprehensive analysis. The proposed study addresses critical gaps in current understanding while providing practical solutions to real-world challenges.

**Project Strengths:**
- Experienced and qualified research team
- Innovative and rigorous methodology
- Strong theoretical foundation
- Clear practical applications
- Comprehensive dissemination plan

**Success Factors:**
- Robust project management framework
- Adequate resource allocation
- Strong institutional support
- Established collaboration networks
- Clear quality assurance measures

We respectfully request support from ${fundingAgency} for this important research initiative. The project will generate significant academic and practical contributions while training the next generation of researchers in ${researchArea}. The expected outcomes will have lasting impact on the field and contribute to evidence-based policy and practice.

**Timeline:** ${duration}
**Total Budget:** ${getBudgetText(data.budgetRange)}
**Expected Publications:** 3-5 peer-reviewed articles
**Students Trained:** 2-3 graduate students
**International Collaborations:** Multiple partnerships

This comprehensive proposal demonstrates our commitment to excellence in research and our capacity to deliver significant contributions to ${researchArea}. We look forward to the opportunity to advance knowledge and create positive impact through this important research initiative.
            `;
        }

        function generateProposal(data) {
            const currentDate = new Date().toLocaleDateString('zh-CN');
            const projectDuration = data.duration || '12ä¸ªæœˆ';
            const budgetText = getBudgetText(data.budgetRange);
            
            return `
                <div class="proposal-section">
                    <h4>ğŸ“‹ Executive Summary</h4>
                    <div class="section-content">
                        <p><strong>Project Title:</strong> ${data.projectTitle}</p>
                        <p><strong>Principal Investigator:</strong> [è¯·å¡«å†™æ‚¨çš„å§“å]</p>
                        <p><strong>Institution:</strong> [è¯·å¡«å†™æ‚¨çš„æœºæ„åç§°]</p>
                        <p><strong>Funding Agency:</strong> ${data.fundingAgency}</p>
                        <p><strong>Requested Amount:</strong> ${budgetText}</p>
                        <p><strong>Project Duration:</strong> ${projectDuration}</p>
                        <p><strong>Submission Date:</strong> ${currentDate}</p>
                        
                        <p><strong>Project Overview:</strong></p>
                        <p>${data.projectDescription || 'æœ¬é¡¹ç›®æ—¨åœ¨é€šè¿‡åˆ›æ–°çš„ç ”ç©¶æ–¹æ³•å’Œå…ˆè¿›çš„æŠ€æœ¯æ‰‹æ®µï¼Œè§£å†³' + data.researchArea + 'é¢†åŸŸçš„å…³é”®é—®é¢˜ï¼Œä¸ºå­¦æœ¯ç•Œå’Œç¤¾ä¼šå¸¦æ¥é‡è¦è´¡çŒ®ã€‚'}</p>
                    </div>
                </div>

                <div class="proposal-section">
                    <h4>ğŸ¯ Project Description and Significance</h4>
                    <div class="section-content">
                        <p><strong>Research Background:</strong></p>
                        <p>${data.projectDescription}</p>
                        
                        <p><strong>Research Significance:</strong></p>
                        <ul>
                            <li>å¡«è¡¥${data.researchArea}é¢†åŸŸçš„é‡è¦çŸ¥è¯†ç©ºç™½</li>
                            <li>ä¸ºç›¸å…³ç†è®ºå‘å±•æä¾›å®è¯æ”¯æŒ</li>
                            <li>å…·æœ‰é‡è¦çš„å­¦æœ¯ä»·å€¼å’Œå®é™…åº”ç”¨å‰æ™¯</li>
                            <li>æ¨åŠ¨${data.researchArea}é¢†åŸŸçš„åˆ›æ–°å‘å±•</li>
                        </ul>
                        
                        <p><strong>Innovation Points:</strong></p>
                        <ul>
                            <li>é‡‡ç”¨åˆ›æ–°çš„ç ”ç©¶æ–¹æ³•å’ŒæŠ€æœ¯è·¯çº¿</li>
                            <li>è·¨å­¦ç§‘çš„ç ”ç©¶è§†è§’å’Œæ–¹æ³•</li>
                            <li>å…·æœ‰å‰ç»æ€§çš„ç ”ç©¶æ€è·¯</li>
                        </ul>
                    </div>
                </div>

                <div class="proposal-section">
                    <h4>ğŸ“š Literature Review and Background</h4>
                    <div class="section-content">
                        <p><strong>Current State of Research:</strong></p>
                        <p>åœ¨${data.researchArea}é¢†åŸŸï¼Œç°æœ‰ç ”ç©¶ä¸»è¦é›†ä¸­åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
                        <ul>
                            <li>ç†è®ºåŸºç¡€ç ”ç©¶ï¼šç›¸å…³ç†è®ºæ¡†æ¶çš„å»ºç«‹å’Œå®Œå–„</li>
                            <li>æ–¹æ³•å­¦ç ”ç©¶ï¼šç ”ç©¶æ–¹æ³•å’ŒæŠ€æœ¯æ‰‹æ®µçš„åˆ›æ–°</li>
                            <li>å®è¯ç ”ç©¶ï¼šå…·ä½“é—®é¢˜çš„å®è¯åˆ†æå’ŒéªŒè¯</li>
                            <li>åº”ç”¨ç ”ç©¶ï¼šç†è®ºæˆæœçš„å®é™…åº”ç”¨å’Œè½¬åŒ–</li>
                        </ul>
                        
                        <p><strong>Research Gaps:</strong></p>
                        <p>å°½ç®¡å·²æœ‰ç ”ç©¶å–å¾—äº†é‡è¦è¿›å±•ï¼Œä½†ä»å­˜åœ¨ä»¥ä¸‹ä¸è¶³ï¼š</p>
                        <ul>
                            <li>ç†è®ºä½“ç³»æœ‰å¾…è¿›ä¸€æ­¥å®Œå–„</li>
                            <li>ç ”ç©¶æ–¹æ³•éœ€è¦åˆ›æ–°å’Œæ”¹è¿›</li>
                            <li>å®è¯ç ”ç©¶çš„æ·±åº¦å’Œå¹¿åº¦æœ‰é™</li>
                            <li>ç†è®ºä¸å®è·µçš„ç»“åˆéœ€è¦åŠ å¼º</li>
                        </ul>
                    </div>
                </div>

                <div class="proposal-section">
                    <h4>ğŸ¯ Research Objectives and Hypotheses</h4>
                    <div class="section-content">
                        <p><strong>Primary Objectives:</strong></p>
                        <ol>
                            <li>æ·±å…¥ç ”ç©¶${data.researchArea}é¢†åŸŸçš„æ ¸å¿ƒé—®é¢˜</li>
                            <li>å»ºç«‹å®Œå–„çš„ç†è®ºæ¡†æ¶å’Œåˆ†ææ¨¡å‹</li>
                            <li>å¼€å‘åˆ›æ–°çš„ç ”ç©¶æ–¹æ³•å’ŒæŠ€æœ¯æ‰‹æ®µ</li>
                            <li>éªŒè¯ç ”ç©¶å‡è®¾å¹¶å¾—å‡ºç§‘å­¦ç»“è®º</li>
                        </ol>
                        
                        <p><strong>Research Hypotheses:</strong></p>
                        <ul>
                            <li>å‡è®¾1ï¼šé€šè¿‡æœ¬ç ”ç©¶çš„æ–¹æ³•èƒ½å¤Ÿæœ‰æ•ˆè§£å†³ç›¸å…³é—®é¢˜</li>
                            <li>å‡è®¾2ï¼šç ”ç©¶ç»“æœå°†å¯¹ç†è®ºå‘å±•äº§ç”Ÿé‡è¦å½±å“</li>
                            <li>å‡è®¾3ï¼šç ”ç©¶æˆæœå…·æœ‰å¹¿æ³›çš„åº”ç”¨ä»·å€¼</li>
                        </ul>
                        
                        <p><strong>Expected Outcomes:</strong></p>
                        <ul>
                            <li>å‘è¡¨é«˜è´¨é‡å­¦æœ¯è®ºæ–‡</li>
                            <li>å½¢æˆé‡è¦ç†è®ºè´¡çŒ®</li>
                            <li>åŸ¹å…»ä¼˜ç§€ç ”ç©¶äººæ‰</li>
                            <li>æ¨åŠ¨å­¦ç§‘å‘å±•</li>
                        </ul>
                    </div>
                </div>

                <div class="proposal-section">
                    <h4>ğŸ”¬ Methodology and Approach</h4>
                    <div class="section-content">
                        <p><strong>Research Design:</strong></p>
                        <p>æœ¬ç ”ç©¶é‡‡ç”¨æ··åˆç ”ç©¶æ–¹æ³•ï¼Œç»“åˆå®šé‡å’Œå®šæ€§åˆ†æï¼Œç¡®ä¿ç ”ç©¶ç»“æœçš„ç§‘å­¦æ€§å’Œå¯é æ€§ã€‚</p>
                        
                        <p><strong>Research Methods:</strong></p>
                        <ul>
                            <li><strong>æ–‡çŒ®ç ”ç©¶æ³•ï¼š</strong>ç³»ç»Ÿæ¢³ç†ç›¸å…³ç†è®ºå’Œç ”ç©¶æˆæœ</li>
                            <li><strong>å®è¯åˆ†ææ³•ï¼š</strong>æ”¶é›†å’Œåˆ†æç›¸å…³æ•°æ®</li>
                            <li><strong>æ¯”è¾ƒç ”ç©¶æ³•ï¼š</strong>è¿›è¡Œæ¨ªå‘å’Œçºµå‘æ¯”è¾ƒåˆ†æ</li>
                            <li><strong>æ¡ˆä¾‹ç ”ç©¶æ³•ï¼š</strong>æ·±å…¥åˆ†æå…¸å‹æ¡ˆä¾‹</li>
                        </ul>
                        
                        <p><strong>Data Collection:</strong></p>
                        <ul>
                            <li>ä¸€æ‰‹æ•°æ®ï¼šé€šè¿‡è°ƒç ”ã€å®éªŒç­‰æ–¹å¼æ”¶é›†</li>
                            <li>äºŒæ‰‹æ•°æ®ï¼šåˆ©ç”¨å…¬å¼€æ•°æ®åº“å’Œç»Ÿè®¡èµ„æ–™</li>
                            <li>è´¨é‡æ§åˆ¶ï¼šç¡®ä¿æ•°æ®çš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§</li>
                        </ul>
                        
                        <p><strong>Analysis Framework:</strong></p>
                        <ul>
                            <li>å»ºç«‹ç§‘å­¦çš„åˆ†ææ¡†æ¶</li>
                            <li>è¿ç”¨å…ˆè¿›çš„åˆ†æå·¥å…·å’Œè½¯ä»¶</li>
                            <li>é‡‡ç”¨å¤šç§åˆ†ææ–¹æ³•ç›¸äº’éªŒè¯</li>
                        </ul>
                    </div>
                </div>

                <div class="proposal-section">
                    <h4>ğŸ“… Timeline and Milestones</h4>
                    <div class="section-content">
                        <p><strong>Project Timeline (${projectDuration}):</strong></p>
                        
                        <div class="timeline-item">
                            <strong>ç¬¬1-3ä¸ªæœˆï¼šé¡¹ç›®å¯åŠ¨é˜¶æ®µ</strong>
                            <ul>
                                <li>å®Œæˆæ–‡çŒ®è°ƒç ”å’Œç†è®ºæ¢³ç†</li>
                                <li>åˆ¶å®šè¯¦ç»†ç ”ç©¶è®¡åˆ’</li>
                                <li>å»ºç«‹ç ”ç©¶å›¢é˜Ÿ</li>
                                <li>å®Œæˆå‰æœŸå‡†å¤‡å·¥ä½œ</li>
                            </ul>
                        </div>
                        
                        <div class="timeline-item">
                            <strong>ç¬¬4-8ä¸ªæœˆï¼šç ”ç©¶å®æ–½é˜¶æ®µ</strong>
                            <ul>
                                <li>å¼€å±•å®è¯ç ”ç©¶</li>
                                <li>æ”¶é›†å’Œæ•´ç†æ•°æ®</li>
                                <li>è¿›è¡Œåˆæ­¥åˆ†æ</li>
                                <li>å®Œæˆä¸­æœŸæŠ¥å‘Š</li>
                            </ul>
                        </div>
                        
                        <div class="timeline-item">
                            <strong>ç¬¬9-12ä¸ªæœˆï¼šæ€»ç»“å®Œå–„é˜¶æ®µ</strong>
                            <ul>
                                <li>å®Œæˆæ·±å…¥åˆ†æ</li>
                                <li>æ’°å†™ç ”ç©¶æŠ¥å‘Š</li>
                                <li>å‘è¡¨å­¦æœ¯è®ºæ–‡</li>
                                <li>é¡¹ç›®éªŒæ”¶å’Œæ€»ç»“</li>
                            </ul>
                        </div>
                        
                        <p><strong>Key Milestones:</strong></p>
                        <ul>
                            <li>âœ… é¡¹ç›®å¯åŠ¨ä¼šè®®</li>
                            <li>ğŸ“Š ä¸­æœŸè¿›å±•æŠ¥å‘Š</li>
                            <li>ğŸ“ ç ”ç©¶æˆæœå‘è¡¨</li>
                            <li>ğŸ¯ é¡¹ç›®ç»“é¢˜éªŒæ”¶</li>
                        </ul>
                    </div>
                </div>

                <div class="proposal-section">
                    <h4>ğŸ’° Budget Justification</h4>
                    <div class="section-content">
                        <p><strong>Total Budget: ${budgetText}</strong></p>
                        
                        <div class="budget-breakdown">
                            <div class="budget-item">
                                <strong>äººå‘˜è´¹ç”¨ (40%)</strong>
                                <ul>
                                    <li>ä¸»è¦ç ”ç©¶äººå‘˜å·¥èµ„</li>
                                    <li>ç ”ç©¶åŠ©ç†è´¹ç”¨</li>
                                    <li>ä¸“å®¶å’¨è¯¢è´¹</li>
                                </ul>
                            </div>
                            
                            <div class="budget-item">
                                <strong>è®¾å¤‡è´¹ç”¨ (25%)</strong>
                                <ul>
                                    <li>ç ”ç©¶è®¾å¤‡è´­ç½®</li>
                                    <li>è½¯ä»¶è®¸å¯è´¹ç”¨</li>
                                    <li>è®¾å¤‡ç»´æŠ¤è´¹ç”¨</li>
                                </ul>
                            </div>
                            
                            <div class="budget-item">
                                <strong>ææ–™è´¹ç”¨ (15%)</strong>
                                <ul>
                                    <li>å®éªŒææ–™</li>
                                    <li>åŠå…¬ç”¨å“</li>
                                    <li>æ•°æ®è´­ä¹°è´¹ç”¨</li>
                                </ul>
                            </div>
                            
                            <div class="budget-item">
                                <strong>å·®æ—…è´¹ç”¨ (10%)</strong>
                                <ul>
                                    <li>å­¦æœ¯ä¼šè®®å‚ä¼š</li>
                                    <li>å®åœ°è°ƒç ”è´¹ç”¨</li>
                                    <li>åˆä½œäº¤æµè´¹ç”¨</li>
                                </ul>
                            </div>
                            
                            <div class="budget-item">
                                <strong>å…¶ä»–è´¹ç”¨ (10%)</strong>
                                <ul>
                                    <li>è®ºæ–‡å‘è¡¨è´¹ç”¨</li>
                                    <li>çŸ¥è¯†äº§æƒè´¹ç”¨</li>
                                    <li>ç®¡ç†è´¹ç”¨</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="proposal-section">
                    <h4>ğŸ¯ Expected Outcomes and Impact</h4>
                    <div class="section-content">
                        <p><strong>Academic Outcomes:</strong></p>
                        <ul>
                            <li>å‘è¡¨é«˜æ°´å¹³å­¦æœ¯è®ºæ–‡ 3-5 ç¯‡</li>
                            <li>å‚åŠ å›½é™…å­¦æœ¯ä¼šè®®å¹¶åšæŠ¥å‘Š</li>
                            <li>å½¢æˆé‡è¦ç†è®ºè´¡çŒ®</li>
                            <li>åŸ¹å…»ç ”ç©¶ç”Ÿ 2-3 å</li>
                        </ul>
                        
                        <p><strong>Practical Impact:</strong></p>
                        <ul>
                            <li>ä¸ºæ”¿ç­–åˆ¶å®šæä¾›ç§‘å­¦ä¾æ®</li>
                            <li>æ¨åŠ¨è¡Œä¸šæŠ€æœ¯è¿›æ­¥</li>
                            <li>äº§ç”Ÿç»æµå’Œç¤¾ä¼šæ•ˆç›Š</li>
                            <li>ä¿ƒè¿›äº§å­¦ç ”åˆä½œ</li>
                        </ul>
                        
                        <p><strong>Long-term Vision:</strong></p>
                        <ul>
                            <li>å»ºç«‹é•¿æœŸç ”ç©¶åˆä½œå…³ç³»</li>
                            <li>å½¢æˆå¯æŒç»­çš„ç ”ç©¶æ–¹å‘</li>
                            <li>åŸ¹å…»ä¼˜ç§€ç ”ç©¶å›¢é˜Ÿ</li>
                            <li>æ¨åŠ¨å­¦ç§‘å‘å±•</li>
                        </ul>
                    </div>
                </div>

                <div class="proposal-section">
                    <h4>ğŸ“Š Evaluation and Dissemination Plan</h4>
                    <div class="section-content">
                        <p><strong>Evaluation Criteria:</strong></p>
                        <ul>
                            <li>ç ”ç©¶ç›®æ ‡å®Œæˆåº¦</li>
                            <li>å­¦æœ¯æˆæœè´¨é‡</li>
                            <li>ç¤¾ä¼šå½±å“åŠ›</li>
                            <li>äººæ‰åŸ¹å…»æ•ˆæœ</li>
                        </ul>
                        
                        <p><strong>Dissemination Strategy:</strong></p>
                        <ul>
                            <li><strong>å­¦æœ¯å‘è¡¨ï¼š</strong>åœ¨é¡¶çº§æœŸåˆŠå‘è¡¨ç ”ç©¶æˆæœ</li>
                            <li><strong>ä¼šè®®æŠ¥å‘Šï¼š</strong>å‚åŠ é‡è¦å­¦æœ¯ä¼šè®®</li>
                            <li><strong>åª’ä½“å®£ä¼ ï¼š</strong>é€šè¿‡åª’ä½“æ‰©å¤§å½±å“</li>
                            <li><strong>æ”¿ç­–å»ºè®®ï¼š</strong>å‘ç›¸å…³éƒ¨é—¨æä¾›æ”¿ç­–å»ºè®®</li>
                        </ul>
                        
                        <p><strong>Knowledge Transfer:</strong></p>
                        <ul>
                            <li>ä¸äº§ä¸šç•Œå»ºç«‹åˆä½œå…³ç³»</li>
                            <li>å¼€å±•æŠ€æœ¯è½¬ç§»æ´»åŠ¨</li>
                            <li>æä¾›å’¨è¯¢æœåŠ¡</li>
                            <li>åŸ¹è®­ç›¸å…³äººå‘˜</li>
                        </ul>
                    </div>
                </div>

                <div class="proposal-section">
                    <h4>ğŸ¯ Conclusion</h4>
                    <div class="section-content">
                        <p>æœ¬é¡¹ç›®"${data.projectTitle}"å…·æœ‰é‡è¦çš„å­¦æœ¯ä»·å€¼å’Œå®è·µæ„ä¹‰ã€‚é€šè¿‡ç³»ç»Ÿçš„ç ”ç©¶è®¾è®¡å’Œç§‘å­¦çš„ç ”ç©¶æ–¹æ³•ï¼Œæˆ‘ä»¬æœ‰ä¿¡å¿ƒåœ¨${data.duration}å†…å®Œæˆé¢„å®šçš„ç ”ç©¶ç›®æ ‡ï¼Œäº§å‡ºé«˜è´¨é‡çš„ç ”ç©¶æˆæœã€‚</p>
                        
                        <p><strong>é¡¹ç›®ä¼˜åŠ¿ï¼š</strong></p>
                        <ul>
                            <li>ç ”ç©¶å›¢é˜Ÿå…·æœ‰ä¸°å¯Œçš„ç›¸å…³ç»éªŒ</li>
                            <li>ç ”ç©¶æ–¹æ³•ç§‘å­¦å¯è¡Œ</li>
                            <li>é¢„æœŸæˆæœå…·æœ‰é‡è¦ä»·å€¼</li>
                            <li>èµ„æºé…ç½®åˆç†æœ‰æ•ˆ</li>
                        </ul>
                        
                        <p><strong>æˆåŠŸä¿éšœï¼š</strong></p>
                        <ul>
                            <li>å®Œå–„çš„é¡¹ç›®ç®¡ç†æœºåˆ¶</li>
                            <li>å……è¶³çš„èµ„æºæ”¯æŒ</li>
                            <li>å¼ºæœ‰åŠ›çš„å›¢é˜Ÿåˆä½œ</li>
                            <li>æ˜ç¡®çš„è´¨é‡æ§åˆ¶æ ‡å‡†</li>
                        </ul>
                        
                        <p>æˆ‘ä»¬æ³è¯·${data.fundingAgency}ç»™äºˆæ”¯æŒï¼Œç›¸ä¿¡æœ¬é¡¹ç›®å°†ä¸º${data.researchArea}é¢†åŸŸçš„å‘å±•åšå‡ºé‡è¦è´¡çŒ®ï¼Œäº§ç”Ÿæ˜¾è‘—çš„å­¦æœ¯å’Œç¤¾ä¼šå½±å“ã€‚</p>
                    </div>
                </div>
            `;
        }

        function getBudgetText(range) {
            const budgets = {
                'small': '$1,000 - $10,000',
                'medium': '$10,000 - $50,000',
                'large': '$50,000 - $200,000',
                'xlarge': '$200,000+'
            };
            return budgets[range] || 'Not specified';
        }

        function downloadProposal() {
            const content = document.getElementById('outputContent').innerText;
            const blob = new Blob([content], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'grant-proposal.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>