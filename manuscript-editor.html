<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manuscript Editor - AI-Powered Academic Manuscript Preparation</title>
    <meta name="description" content="Prepare your manuscripts for publication with journal-specific formatting and submission guidelines. AI-powered manuscript editor.">
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        .tool-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .tool-header {
            text-align: center;
            margin-bottom: 3rem;
            padding-top: 100px;
        }
        .editor-workspace {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        .manuscript-editor {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .editor-toolbar {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            padding: 1rem;
            background: #f8fafc;
            border-radius: 10px;
            flex-wrap: wrap;
        }
        .toolbar-btn {
            padding: 0.5rem 1rem;
            border: 1px solid #e2e8f0;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.875rem;
        }
        .toolbar-btn:hover {
            background: #6366f1;
            color: white;
            border-color: #6366f1;
        }
        .manuscript-content {
            width: 100%;
            min-height: 500px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            padding: 2rem;
            font-family: 'Times New Roman', serif;
            font-size: 12pt;
            line-height: 2;
            resize: vertical;
            background: white;
        }
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .sidebar-panel {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .journal-selector {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 0.875rem;
        }
        .format-options {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .format-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .format-option:hover {
            background: #f1f5f9;
        }
        .format-option input[type="checkbox"] {
            margin: 0;
        }
        .word-count {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
        }
        .submission-checklist {
            list-style: none;
            padding: 0;
        }
        .submission-checklist li {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 0;
            border-bottom: 1px solid #e2e8f0;
        }
        .submission-checklist li:last-child {
            border-bottom: none;
        }
        .checklist-icon {
            color: #10b981;
        }
        @media (max-width: 768px) {
            .editor-workspace {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-graduation-cap"></i>
                <span>AI Grant Writer</span>
            </div>
            <div class="nav-menu">
                <a href="index.html" class="nav-link">首页</a>
                <a href="#features" class="nav-link">特性</a>
                <a href="#tools" class="nav-link">AI工具</a>
                <a href="#pricing" class="nav-link">定价</a>
                <a href="#contact" class="nav-link">联系</a>
            </div>
            <div class="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <div class="tool-container">
        <div class="tool-header">
            <h1><i class="fas fa-file-alt"></i> Manuscript Editor</h1>
            <p>专业的稿件编辑器，为期刊投稿准备符合格式要求的学术稿件</p>
        </div>

        <div class="editor-workspace">
            <div class="manuscript-editor">
                <h3><i class="fas fa-edit"></i> 稿件编辑器</h3>
                
                <div class="editor-toolbar">
                    <button class="toolbar-btn" onclick="formatText('bold')">
                        <i class="fas fa-bold"></i> 粗体
                    </button>
                    <button class="toolbar-btn" onclick="formatText('italic')">
                        <i class="fas fa-italic"></i> 斜体
                    </button>
                    <button class="toolbar-btn" onclick="formatText('underline')">
                        <i class="fas fa-underline"></i> 下划线
                    </button>
                    <button class="toolbar-btn" onclick="insertCitation()">
                        <i class="fas fa-quote-right"></i> 引用
                    </button>
                    <button class="toolbar-btn" onclick="insertTable()">
                        <i class="fas fa-table"></i> 表格
                    </button>
                    <button class="toolbar-btn" onclick="insertFigure()">
                        <i class="fas fa-image"></i> 图片
                    </button>
                    <button class="toolbar-btn" onclick="checkFormat()">
                        <i class="fas fa-check-circle"></i> 格式检查
                    </button>
                </div>

                <textarea id="manuscriptContent" class="manuscript-content" placeholder="在此输入您的稿件内容...

标题：[请输入论文标题]

摘要：
[请输入摘要内容]

关键词：[关键词1, 关键词2, 关键词3]

1. 引言
[请输入引言内容]

2. 方法
[请输入方法部分]

3. 结果
[请输入结果部分]

4. 讨论
[请输入讨论部分]

5. 结论
[请输入结论部分]

参考文献：
[1] 作者. 标题. 期刊名, 年份, 卷(期): 页码."></textarea>
            </div>

            <div class="sidebar">
                <div class="sidebar-panel">
                    <h4><i class="fas fa-journal-whills"></i> 期刊选择</h4>
                    <select id="journalSelector" class="journal-selector" onchange="updateFormat()">
                        <option value="">选择目标期刊</option>
                        <option value="nature">Nature</option>
                        <option value="science">Science</option>
                        <option value="cell">Cell</option>
                        <option value="plos">PLOS ONE</option>
                        <option value="ieee">IEEE Transactions</option>
                        <option value="springer">Springer Journals</option>
                        <option value="elsevier">Elsevier Journals</option>
                        <option value="apa">APA Style</option>
                    </select>
                </div>

                <div class="sidebar-panel">
                    <h4><i class="fas fa-cogs"></i> 格式选项</h4>
                    <div class="format-options">
                        <label class="format-option">
                            <input type="checkbox" id="doubleSpacing" checked>
                            <span>双倍行距</span>
                        </label>
                        <label class="format-option">
                            <input type="checkbox" id="pageNumbers" checked>
                            <span>页码</span>
                        </label>
                        <label class="format-option">
                            <input type="checkbox" id="lineNumbers">
                            <span>行号</span>
                        </label>
                        <label class="format-option">
                            <input type="checkbox" id="continuousText">
                            <span>连续文本</span>
                        </label>
                        <label class="format-option">
                            <input type="checkbox" id="anonymousReview">
                            <span>匿名评审格式</span>
                        </label>
                    </div>
                </div>

                <div class="sidebar-panel word-count">
                    <h4><i class="fas fa-calculator"></i> 字数统计</h4>
                    <div id="wordCount">
                        <p>字数: <span id="wordCountNumber">0</span></p>
                        <p>字符: <span id="charCount">0</span></p>
                        <p>段落: <span id="paragraphCount">0</span></p>
                    </div>
                </div>

                <div class="sidebar-panel">
                    <h4><i class="fas fa-clipboard-check"></i> 投稿检查清单</h4>
                    <ul class="submission-checklist">
                        <li>
                            <i class="fas fa-check-circle checklist-icon"></i>
                            <span>标题页完整</span>
                        </li>
                        <li>
                            <i class="fas fa-check-circle checklist-icon"></i>
                            <span>摘要符合要求</span>
                        </li>
                        <li>
                            <i class="fas fa-check-circle checklist-icon"></i>
                            <span>关键词数量适当</span>
                        </li>
                        <li>
                            <i class="fas fa-check-circle checklist-icon"></i>
                            <span>参考文献格式正确</span>
                        </li>
                        <li>
                            <i class="fas fa-check-circle checklist-icon"></i>
                            <span>图表标题完整</span>
                        </li>
                        <li>
                            <i class="fas fa-check-circle checklist-icon"></i>
                            <span>伦理声明</span>
                        </li>
                    </ul>
                </div>

                <div class="sidebar-panel">
                    <button class="btn-primary" onclick="exportManuscript()" style="width: 100%; margin-bottom: 0.5rem;">
                        <i class="fas fa-download"></i> 导出稿件
                    </button>
                    <button class="btn-secondary" onclick="saveProgress()" style="width: 100%;">
                        <i class="fas fa-save"></i> 保存进度
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <h3>AI Grant Writer</h3>
                <p>专业的AI学术写作助手，助力您的学术研究和申请成功。</p>
            </div>
            <div class="footer-section">
                <h4>工具</h4>
                <ul>
                    <li><a href="grant-proposal.html">申请书生成器</a></li>
                    <li><a href="dissertation-writer.html">论文写作助手</a></li>
                    <li><a href="research-paper.html">研究论文生成器</a></li>
                    <li><a href="literature-review.html">文献综述助手</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>联系我们</h4>
                <p>Email: support@aigrantwriter.xyz</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                    <a href="#"><i class="fab fa-github"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 AI Grant Writer. All rights reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="navigation.js"></script>
    <script>
        // Word count functionality
        function updateWordCount() {
            const content = document.getElementById('manuscriptContent').value;
            const words = content.trim().split(/\s+/).filter(word => word.length > 0).length;
            const chars = content.length;
            const paragraphs = content.split(/\n\s*\n/).filter(p => p.trim().length > 0).length;
            
            document.getElementById('wordCountNumber').textContent = words;
            document.getElementById('charCount').textContent = chars;
            document.getElementById('paragraphCount').textContent = paragraphs;
        }

        // Format text functions
        function formatText(command) {
            const textarea = document.getElementById('manuscriptContent');
            const start = textarea.selectionStart;
            const end = textarea.selectionEnd;
            const selectedText = textarea.value.substring(start, end);
            
            if (selectedText) {
                let formattedText = selectedText;
                switch(command) {
                    case 'bold':
                        formattedText = `**${selectedText}**`;
                        break;
                    case 'italic':
                        formattedText = `*${selectedText}*`;
                        break;
                    case 'underline':
                        formattedText = `<u>${selectedText}</u>`;
                        break;
                }
                
                textarea.value = textarea.value.substring(0, start) + formattedText + textarea.value.substring(end);
                textarea.focus();
                textarea.setSelectionRange(start, start + formattedText.length);
            }
        }

        function insertCitation() {
            const textarea = document.getElementById('manuscriptContent');
            const citation = '[Author, Year]';
            const start = textarea.selectionStart;
            textarea.value = textarea.value.substring(0, start) + citation + textarea.value.substring(start);
            textarea.focus();
            textarea.setSelectionRange(start + citation.length, start + citation.length);
        }

        function insertTable() {
            const tableTemplate = `
Table 1. [表格标题]
| 列1 | 列2 | 列3 |
|-----|-----|-----|
| 数据1 | 数据2 | 数据3 |
| 数据4 | 数据5 | 数据6 |
`;
            insertAtCursor(tableTemplate);
        }

        function insertFigure() {
            const figureTemplate = `
Figure 1. [图片标题和说明]
[图片位置]
`;
            insertAtCursor(figureTemplate);
        }

        function insertAtCursor(text) {
            const textarea = document.getElementById('manuscriptContent');
            const start = textarea.selectionStart;
            textarea.value = textarea.value.substring(0, start) + text + textarea.value.substring(start);
            textarea.focus();
            textarea.setSelectionRange(start + text.length, start + text.length);
        }

        function updateFormat() {
            const journal = document.getElementById('journalSelector').value;
            const textarea = document.getElementById('manuscriptContent');
            
            // Apply journal-specific formatting
            switch(journal) {
                case 'nature':
                    textarea.style.fontFamily = 'Arial, sans-serif';
                    textarea.style.fontSize = '11pt';
                    break;
                case 'science':
                    textarea.style.fontFamily = 'Times New Roman, serif';
                    textarea.style.fontSize = '12pt';
                    break;
                default:
                    textarea.style.fontFamily = 'Times New Roman, serif';
                    textarea.style.fontSize = '12pt';
            }
        }

        function checkFormat() {
            alert('格式检查完成！建议：\n1. 检查引用格式是否一致\n2. 确认图表编号连续\n3. 验证参考文献完整性');
        }

        function exportManuscript() {
            const content = document.getElementById('manuscriptContent').value;
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'manuscript.txt';
            a.click();
            URL.revokeObjectURL(url);
        }

        function saveProgress() {
            const content = document.getElementById('manuscriptContent').value;
            localStorage.setItem('manuscriptProgress', content);
            alert('进度已保存！');
        }

        // Load saved progress
        window.addEventListener('load', function() {
            const saved = localStorage.getItem('manuscriptProgress');
            if (saved) {
                document.getElementById('manuscriptContent').value = saved;
                updateWordCount();
            }
        });

        // Update word count on input
        document.getElementById('manuscriptContent').addEventListener('input', updateWordCount);

        // Initialize word count
        updateWordCount();
    </script>
</body>
</html>